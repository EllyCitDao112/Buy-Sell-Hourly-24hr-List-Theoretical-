<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Binance Trading Signals with Zig Zag Indicator</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
        th { background-color: #f0f0f0; }
        .buy { background-color: #d4f8d4; color: green; font-weight: bold; }
        .sell { background-color: #f8d4d4; color: red; font-weight: bold; }
        .positive { color: green; }
        .negative { color: red; }
        caption { font-size: 1.2em; margin-bottom: 10px; font-weight: bold; }
    </style>
</head>
<body>

    <h1>Binance Trading Signals with Zig Zag Indicator</h1>
    <p id="lastUpdated">Last updated: never</p>

    <table id="tradingTable">
        <caption>Buy/Sell Recommendations with 24h Stats</caption>
        <thead>
            <tr>
                <th>Asset</th>
                <th>Current Price</th>
                <th>24h Change</th>
                <th>24h High</th>
                <th>24h Low</th>
                <th>24h Volume</th>
                <th>Recommendation</th>
                <th>Rationale</th>
            </tr>
        </thead>
        <tbody>
            <!-- Data will be populated here -->
        </tbody>
    </table>

    <script>
        // List of assets to track
        const assets = ["BTCUSDT", "ETHUSDT", "BNBUSDT", "SOLUSDT", "XRPUSDT", "ADAUSDT", "DOGEUSDT", "DOTUSDT", "MATICUSDT"];

        // Function to fetch market data for a given symbol
        async function fetchMarketData(symbol) {
            try {
                const response = await fetch(`https://api.binance.com/api/v3/ticker/24hr?symbol=${symbol}`);
                const data = await response.json();
                return {
                    symbol,
                    currentPrice: parseFloat(data.lastPrice),
                    priceChange: parseFloat(data.priceChangePercent),
                    highPrice: parseFloat(data.highPrice),
                    lowPrice: parseFloat(data.lowPrice),
                    volume: parseFloat(data.volume)
                };
            } catch (error) {
                console.error(`Error fetching market data for ${symbol}:`, error);
                return null;
            }
        }

        // Function to determine buy/sell recommendation based on Zig Zag indicator logic
        function determineRecommendation(data) {
            const priceRange = data.highPrice - data.lowPrice;
            const threshold = 0.05 * data.currentPrice; // 5% threshold for Zig Zag
            let recommendation = 'Hold';
            let rationale = 'Price movement is within normal range.';

            if (priceRange > threshold) {
                if (data.currentPrice < (data.lowPrice + threshold)) {
                    recommendation = 'Buy';
                    rationale = 'Significant price drop detected; potential reversal opportunity.';
                } else if (data.currentPrice > (data.highPrice - threshold)) {
                    recommendation = 'Sell';
                    rationale = 'Significant price rise detected; potential reversal opportunity.';
                }
            }

            return { recommendation, rationale };
        }

        // Function to update the trading table with fetched data
        async function updateTradingTable() {
            const tbody = document.querySelector("#tradingTable tbody");
            tbody.innerHTML = "";  // Clear existing table data

            const results = await Promise.all(assets.map(fetchMarketData)); // Fetch data for all assets

            results.forEach((data) => {
                if (!data) return;  // Skip if data fetch failed

                const { recommendation, rationale } = determineRecommendation(data);
                const row = document.createElement("tr");
                row.className = recommendation.toLowerCase(); // Apply 'buy' or 'sell' class for color coding
                row.innerHTML = `
                    <td>${data.symbol.replace("USDT", "")}</td>
                    <td>$${data.currentPrice.toFixed(2)}</td>
                    <td class="${data.priceChange >= 0 ? 'positive' : 'negative'}">${data.priceChange.toFixed(2)}%</td>
                    <td>$${data.highPrice.toFixed(2)}</td>
                    <td>$${data.lowPrice.toFixed(2)}</td>
                    <td>${data.volume.toFixed(2)}</td>
                    <td>${recommendation}</td>
                    <td>${rationale}</td>
                `;
                tbody.appendChild(row);
            });

            document.getElementById("lastUpdated").textContent = "Last updated: " + new Date().toLocaleString();
        }

        // Initial data load
        updateTradingTable();
        // Update data every 15 minutes
        setInterval(updateTradingTable, 900000);
    </script>

</body>
                             </html>
    
